import{r,j as e,u as X,L as f}from"./app-CQEFgh6b.js";import{M as B,i as $,u as Y,P as K,a as q,b as G,L as J,m as P}from"./proxy-C1TVMRV_.js";import{c as S}from"./createLucideIcon-CJYJoEhH.js";import{S as O,L as _,X as V}from"./x-DFLZkB2F.js";/* empty css            */function I(t,i){if(typeof t=="function")return t(i);t!=null&&(t.current=i)}function Q(...t){return i=>{let n=!1;const o=t.map(c=>{const l=I(c,i);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let c=0;c<o.length;c++){const l=o[c];typeof l=="function"?l():I(t[c],null)}}}}function Z(...t){return r.useCallback(Q(...t),t)}class ee extends r.Component{getSnapshotBeforeUpdate(i){const n=this.props.childRef.current;if(n&&i.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const o=n.offsetParent,c=$(o)&&o.offsetWidth||0,l=$(o)&&o.offsetHeight||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=c-a.width-a.left,a.bottom=l-a.height-a.top}return null}componentDidUpdate(){}render(){return this.props.children}}function te({children:t,isPresent:i,anchorX:n,anchorY:o,root:c,pop:l}){const a=r.useId(),p=r.useRef(null),g=r.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:v}=r.useContext(B),s=t.props?.ref??t?.ref,m=Z(p,s);return r.useInsertionEffect(()=>{const{width:h,height:x,top:b,left:j,right:w,bottom:k}=g.current;if(i||l===!1||!p.current||!h||!x)return;const E=n==="left"?`left: ${j}`:`right: ${w}`,L=o==="bottom"?`bottom: ${k}`:`top: ${b}`;p.current.dataset.motionPopId=a;const u=document.createElement("style");v&&(u.nonce=v);const C=c??document.head;return C.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${x}px !important;
            ${E}px !important;
            ${L}px !important;
          }
        `),()=>{C.contains(u)&&C.removeChild(u)}},[i]),e.jsx(ee,{isPresent:i,childRef:p,sizeRef:g,pop:l,children:l===!1?t:r.cloneElement(t,{ref:m})})}const ne=({children:t,initial:i,isPresent:n,onExitComplete:o,custom:c,presenceAffectsLayout:l,mode:a,anchorX:p,anchorY:g,root:v})=>{const s=Y(se),m=r.useId();let h=!0,x=r.useMemo(()=>(h=!1,{id:m,initial:i,isPresent:n,custom:c,onExitComplete:b=>{s.set(b,!0);for(const j of s.values())if(!j)return;o&&o()},register:b=>(s.set(b,!1),()=>s.delete(b))}),[n,s,o]);return l&&h&&(x={...x}),r.useMemo(()=>{s.forEach((b,j)=>s.set(j,!1))},[n]),r.useEffect(()=>{!n&&!s.size&&o&&o()},[n]),t=e.jsx(te,{pop:a==="popLayout",isPresent:n,anchorX:p,anchorY:g,root:v,children:t}),e.jsx(K.Provider,{value:x,children:t})};function se(){return new Map}const R=t=>t.key||"";function U(t){const i=[];return r.Children.forEach(t,n=>{r.isValidElement(n)&&i.push(n)}),i}const T=({children:t,custom:i,initial:n=!0,onExitComplete:o,presenceAffectsLayout:c=!0,mode:l="sync",propagate:a=!1,anchorX:p="left",anchorY:g="top",root:v})=>{const[s,m]=q(a),h=r.useMemo(()=>U(t),[t]),x=a&&!s?[]:h.map(R),b=r.useRef(!0),j=r.useRef(h),w=Y(()=>new Map),k=r.useRef(new Set),[E,L]=r.useState(h),[u,C]=r.useState(h);G(()=>{b.current=!1,j.current=h;for(let y=0;y<u.length;y++){const d=R(u[y]);x.includes(d)?(w.delete(d),k.current.delete(d)):w.get(d)!==!0&&w.set(d,!1)}},[u,x.length,x.join("-")]);const M=[];if(h!==E){let y=[...h];for(let d=0;d<u.length;d++){const N=u[d],z=R(N);x.includes(z)||(y.splice(d,0,N),M.push(N))}return l==="wait"&&M.length&&(y=M),C(U(y)),L(h),null}const{forceRender:F}=r.useContext(J);return e.jsx(e.Fragment,{children:u.map(y=>{const d=R(y),N=a&&!s?!1:h===u||x.includes(d),z=()=>{if(k.current.has(d))return;if(k.current.add(d),w.has(d))w.set(d,!0);else return;let D=!0;w.forEach(W=>{W||(D=!1)}),D&&(F?.(),C(j.current),a&&m?.(),o&&o())};return e.jsx(ne,{isPresent:N,initial:!b.current||n?void 0:!1,custom:i,presenceAffectsLayout:c,mode:l,root:v,onExitComplete:N?void 0:z,anchorX:p,anchorY:g,children:y},d)})})};const re=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],oe=S("ChevronDown",re);const ie=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],A=S("LayoutDashboard",ie);const ae=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],le=S("Menu",ae),H=[{label:"Accueil",href:"/"},{label:"Réalisations",href:"/realisations"},{label:"À propos",href:"/about"},{label:"Blog",href:"/blog"},{label:"Contact",href:"/contact"}];function xe(){const{auth:t}=X().props,i=t?.user??null,[n,o]=r.useState(!1),[c,l]=r.useState(!1),[a,p]=r.useState(!1),g=r.useRef(null);let v=0;return r.useEffect(()=>{const s=()=>{const m=window.scrollY;m>v&&m>100?p(!0):p(!1),v=m};return window.addEventListener("scroll",s,{passive:!0}),()=>window.removeEventListener("scroll",s)},[]),r.useEffect(()=>{const s=m=>{g.current&&!g.current.contains(m.target)&&l(!1)};return c&&document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[c]),e.jsxs(P.header,{initial:{y:-100},animate:{y:a?-140:0},transition:{duration:.5,ease:"easeOut"},className:"fixed top-0 left-0 right-0 z-50 bg-gradient-to-b from-black/90 via-black/85 to-black/80 backdrop-blur-xl border-b border-green-900/30 shadow-[0_4px_30px_rgba(0,0,0,0.5)]",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-5 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-20",children:[e.jsxs(f,{href:"/",className:"flex items-center gap-3.5 group",children:[e.jsx("div",{className:"w-11 h-11 rounded-xl overflow-hidden shadow-lg shadow-green-900/40 transition-transform group-hover:scale-105 duration-300",children:e.jsx("img",{src:"/njimoluxe.png",alt:"NjimoLuxe",className:"w-full h-full object-cover"})}),e.jsx("span",{className:"text-3xl font-serif font-extrabold tracking-tight text-green-400 group-hover:text-green-300 transition-colors duration-300",children:"NJIMOLUXE"})]}),e.jsx("nav",{className:"hidden lg:flex items-center gap-10",children:H.map(s=>e.jsx(f,{href:s.href,className:"relative text-gray-200 hover:text-green-400 font-medium text-lg transition-colors duration-300 after:content-[''] after:absolute after:bottom-[-6px] after:left-0 after:h-0.5 after:w-0 after:bg-green-500 hover:after:w-full after:transition-all after:duration-300",children:s.label},s.href))}),e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("div",{className:"hidden lg:flex items-center gap-6",children:i?e.jsxs("div",{className:"relative",ref:g,children:[e.jsxs("button",{type:"button",onClick:()=>l(!c),className:"flex items-center gap-3 px-3 py-2 rounded-xl hover:bg-green-950/40 transition-all duration-200",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-green-600 to-green-800 flex items-center justify-center text-white font-bold shadow-md",children:i.name.charAt(0).toUpperCase()}),e.jsx("span",{className:"font-medium text-gray-100",children:i.name}),e.jsx(oe,{size:18,className:`transition-transform duration-200 ${c?"rotate-180":""}`})]}),e.jsx(T,{children:c&&e.jsxs(P.div,{initial:{opacity:0,y:12,scale:.96},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:8,scale:.96},transition:{duration:.15},className:"absolute right-0 mt-3 w-64 bg-neutral-900/95 backdrop-blur-lg border border-green-900/30 rounded-2xl shadow-2xl overflow-hidden",children:[e.jsxs("div",{className:"py-2",children:[e.jsxs(f,{href:"/dashboard",className:"flex items-center gap-3 px-5 py-3.5 text-gray-200 hover:bg-green-950/50 hover:text-green-400 transition-colors",onClick:()=>l(!1),children:[e.jsx(A,{size:18}),"Tableau de bord"]}),e.jsxs(f,{href:"/settings",className:"flex items-center gap-3 px-5 py-3.5 text-gray-200 hover:bg-green-950/50 hover:text-green-400 transition-colors",onClick:()=>l(!1),children:[e.jsx(O,{size:18}),"Paramètres"]})]}),e.jsx("div",{className:"border-t border-green-900/30 py-1",children:e.jsxs(f,{href:"/logout",method:"post",as:"button",className:"w-full flex items-center gap-3 px-5 py-3.5 text-red-400 hover:bg-red-950/40 transition-colors",children:[e.jsx(_,{size:18}),"Déconnexion"]})})]})})]}):e.jsxs(e.Fragment,{children:[e.jsx(f,{href:"/login",className:"text-gray-200 hover:text-green-400 font-medium text-lg transition-colors duration-200",children:"Connexion"}),e.jsx(f,{href:"/contact",className:"px-7 py-3.5 bg-green-700 hover:bg-green-600 text-white font-semibold rounded-xl transition-all duration-300 shadow-lg hover:shadow-green-900/40 hover:-translate-y-0.5",children:"Devis gratuit"})]})}),e.jsx("button",{type:"button",className:"lg:hidden text-white p-2 -mr-2 rounded-xl hover:bg-green-950/40 transition-colors",onClick:()=>o(!n),"aria-label":n?"Fermer le menu":"Ouvrir le menu",children:n?e.jsx(V,{size:28}):e.jsx(le,{size:28})})]})]})}),e.jsx(T,{children:n&&e.jsx(P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.35,ease:"easeOut"},className:"lg:hidden bg-black/95 backdrop-blur-xl border-t border-green-900/30 overflow-hidden",children:e.jsxs("div",{className:"px-6 py-8 space-y-7",children:[H.map(s=>e.jsx(f,{href:s.href,className:"block text-xl font-medium text-gray-200 hover:text-green-400 transition-colors duration-200",onClick:()=>o(!1),children:s.label},s.href)),e.jsx("div",{className:"pt-8 border-t border-green-900/40",children:i?e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"flex items-center gap-4 px-4 py-4 bg-green-950/30 rounded-2xl",children:[e.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-green-600 to-green-800 flex items-center justify-center text-white text-2xl font-bold shadow-md",children:i.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xl font-semibold text-white",children:i.name}),e.jsx("p",{className:"text-green-400/80 text-sm",children:"Connecté"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(f,{href:"/dashboard",className:"flex items-center gap-4 px-5 py-4 rounded-xl hover:bg-green-950/40 text-gray-200 hover:text-green-400 transition-colors text-lg font-medium",onClick:()=>o(!1),children:[e.jsx(A,{size:22}),"Tableau de bord"]}),e.jsxs(f,{href:"/settings",className:"flex items-center gap-4 px-5 py-4 rounded-xl hover:bg-green-950/40 text-gray-200 hover:text-green-400 transition-colors text-lg font-medium",onClick:()=>o(!1),children:[e.jsx(O,{size:22}),"Paramètres"]}),e.jsxs(f,{href:"/logout",method:"post",as:"button",className:"flex items-center gap-4 px-5 py-4 rounded-xl bg-red-950/40 hover:bg-red-950/60 text-red-300 transition-colors text-lg font-medium w-full",onClick:()=>o(!1),children:[e.jsx(_,{size:22}),"Déconnexion"]})]})]}):e.jsxs("div",{className:"grid gap-4",children:[e.jsx(f,{href:"/login",className:"block text-center py-4 bg-neutral-800 hover:bg-neutral-700 text-white rounded-xl font-semibold transition-colors text-lg",onClick:()=>o(!1),children:"Se connecter"}),e.jsx(f,{href:"/contact",className:"block text-center py-4 bg-green-700 hover:bg-green-600 text-white font-semibold rounded-xl transition-all shadow-md text-lg",onClick:()=>o(!1),children:"Demander un devis gratuit"})]})})]})})})]})}export{xe as default};
