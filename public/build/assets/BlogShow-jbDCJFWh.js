import{c as X,r as a,j as t,H as Y,L as U}from"./app-CQcjFgrZ.js";import{N as G}from"./NavBar-D0pgpyPS.js";/* empty css            */import"./proxy-Dn6sRVZ9.js";import"./createLucideIcon-8R0AvJ-N.js";import"./x-DjTngnWs.js";function K(r){const e=X.c(2),{html:l}=r;let o;return e[0]!==l?(o=t.jsx("div",{className:"blog-rich-content rich-content ",dangerouslySetInnerHTML:{__html:l}}),e[0]=l,e[1]=o):o=e[1],o}function oe(r){const e=X.c(58),{article:l,similar:o,urls:c}=r;let E;e[0]===Symbol.for("react.memo_cache_sentinel")?(E=[],e[0]=E):E=e[0];const[n,V]=a.useState(E),[d,q]=a.useState(""),[F,z]=a.useState(""),O=a.useRef(null);let $,I;e[1]!==l.content?($=()=>{if(!l.content)return;const i=new DOMParser().parseFromString(l.content,"text/html"),T=i.querySelectorAll("h2, h3"),A=Array.from(T).map(Z);V(A),z(i.body.innerHTML)},I=[l.content],e[1]=l.content,e[2]=$,e[3]=I):($=e[2],I=e[3]),a.useEffect($,I);let L,H;e[4]!==n?(L=()=>{const s=()=>{const i=window.scrollY+120;let T="";n.forEach(A=>{const J=document.getElementById(A.id);J&&J.offsetTop<=i&&(T=A.id)}),q(T)};return window.addEventListener("scroll",s,{passive:!0}),()=>window.removeEventListener("scroll",s)},H=[n],e[4]=n,e[5]=L,e[6]=H):(L=e[5],H=e[6]),a.useEffect(L,H);let R,C;e[7]===Symbol.for("react.memo_cache_sentinel")?(R=()=>()=>{V([]),q(""),z(""),O.current&&(O.current.innerHTML=""),document.body.style.background=""},C=[],e[7]=R,e[8]=C):(R=e[7],C=e[8]),a.useEffect(R,C);let m;e[9]!==l.title?(m=t.jsx(Y,{title:l.title}),e[9]=l.title,e[10]=m):m=e[10];let B;e[11]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsx(G,{}),e[11]=B):B=e[11];let x;e[12]!==d||e[13]!==n?(x=n.length>0&&t.jsxs("aside",{className:"hidden lg:block lg:w-64 xl:w-72 flex-shrink-0 border-r border-green-900/30 bg-black sticky top-16 h-[calc(100vh-4rem)] overflow-y-auto py-8 px-6",children:[t.jsx("h3",{className:"text-base font-semibold text-green-400 mb-5 uppercase tracking-wide",children:"Sommaire"}),t.jsx("nav",{className:"space-y-1.5 text-sm",children:n.map(s=>t.jsx("a",{href:`#${s.id}`,onClick:i=>{i.preventDefault(),document.getElementById(s.id)?.scrollIntoView({behavior:"smooth",block:"start"})},className:`block py-1.5 transition-colors duration-200 ${d===s.id?"text-green-400 font-medium pl-4 border-l-2 border-green-500":"text-slate-400 hover:text-green-300 pl-4"} ${s.level===3?"pl-8":""}`,children:s.text},s.id))})]}),e[12]=d,e[13]=n,e[14]=x):x=e[14];let f;e[15]!==c.blog_index?(f=t.jsx(U,{href:c.blog_index,className:"inline-flex items-center text-green-400 hover:text-green-300 text-sm font-medium mb-8",children:"← Retour au blog"}),e[15]=c.blog_index,e[16]=f):f=e[16];let h;e[17]!==l.title?(h=t.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold leading-tight mb-6",children:l.title}),e[17]=l.title,e[18]=h):h=e[18];const P=l.user?.name||"NJIMOLUXE";let p;e[19]!==P?(p=t.jsxs("span",{children:["Par ",P]}),e[19]=P,e[20]=p):p=e[20];let D;e[21]===Symbol.for("react.memo_cache_sentinel")?(D=t.jsx("span",{children:"•"}),e[21]=D):D=e[21];let g;e[22]!==l.published_at?(g=new Date(l.published_at).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}),e[22]=l.published_at,e[23]=g):g=e[23];let u;e[24]!==g?(u=t.jsx("time",{children:g}),e[24]=g,e[25]=u):u=e[25];let b;e[26]!==p||e[27]!==u?(b=t.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-green-300/70 text-sm mb-10",children:[p,D,u]}),e[26]=p,e[27]=u,e[28]=b):b=e[28];let j;e[29]!==l.categories?(j=l.categories?.map(W),e[29]=l.categories,e[30]=j):j=e[30];let v;e[31]!==l.tags?(v=l.tags?.map(Q),e[31]=l.tags,e[32]=v):v=e[32];let N;e[33]!==j||e[34]!==v?(N=t.jsxs("div",{className:"flex flex-wrap gap-2 mb-12",children:[j,v]}),e[33]=j,e[34]=v,e[35]=N):N=e[35];let w;e[36]!==d||e[37]!==n?(w=n.length>0&&t.jsxs("details",{className:"lg:hidden mb-12 bg-slate-950 rounded-xl border border-slate-800 overflow-hidden",children:[t.jsxs("summary",{className:"flex items-center justify-between px-5 py-4 text-green-400 font-medium cursor-pointer",children:["Sommaire de l’article",t.jsx("span",{className:"text-xl transition-transform duration-300 group-open:rotate-180",children:"▾"})]}),t.jsx("div",{className:"px-5 pb-5 pt-2 space-y-2 text-sm",children:n.map(s=>t.jsx("a",{href:`#${s.id}`,onClick:i=>{i.preventDefault(),document.getElementById(s.id)?.scrollIntoView({behavior:"smooth",block:"start"})},className:`block py-1.5 transition-colors ${d===s.id?"text-green-400":"text-slate-400 hover:text-green-300"} ${s.level===3?"pl-6":""}`,children:s.text},s.id))})]}),e[36]=d,e[37]=n,e[38]=w):w=e[38];let y;e[39]!==F?(y=t.jsx("div",{ref:O,children:t.jsx(K,{html:F})}),e[39]=F,e[40]=y):y=e[40];let S;e[41]!==o||e[42]!==c.blog_show?(S=o?.length>0&&t.jsxs("div",{className:"mt-20 pt-12 border-t border-green-900/30",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-8",children:"Articles similaires"}),t.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(s=>t.jsxs(U,{href:`${c.blog_show}${s.slug}`,className:"group flex flex-col bg-slate-950 rounded-xl overflow-hidden border border-slate-800 hover:border-green-700/50 transition-all duration-300 hover:shadow-xl hover:shadow-green-900/10",children:[s.image&&t.jsx("img",{src:`/storage/${s.image}`,alt:s.title,className:"w-full aspect-video object-cover",loading:"lazy"}),t.jsxs("div",{className:"p-5",children:[t.jsx("h3",{className:"text-lg font-semibold text-white group-hover:text-green-400 transition-colors line-clamp-2",children:s.title}),t.jsx("p",{className:"mt-3 text-sm text-slate-400 line-clamp-2",children:s.excerpt||"Lire la suite..."})]})]},s.id))})]}),e[41]=o,e[42]=c.blog_show,e[43]=S):S=e[43];let k;e[44]!==f||e[45]!==h||e[46]!==b||e[47]!==N||e[48]!==w||e[49]!==y||e[50]!==S?(k=t.jsx("main",{className:"flex-1",children:t.jsxs("div",{className:"w-full px-5 sm:px-8 lg:px-12 py-12 lg:py-16",children:[f,h,b,N,w,y,S]})}),e[44]=f,e[45]=h,e[46]=b,e[47]=N,e[48]=w,e[49]=y,e[50]=S,e[51]=k):k=e[51];let _;e[52]!==x||e[53]!==k?(_=t.jsx("div",{className:"min-h-screen bg-black text-white",children:t.jsxs("div",{className:"flex flex-col lg:flex-row",children:[x,k]})}),e[52]=x,e[53]=k,e[54]=_):_=e[54];let M;return e[55]!==_||e[56]!==m?(M=t.jsxs(t.Fragment,{children:[m,B,_]}),e[55]=_,e[56]=m,e[57]=M):M=e[57],M}function Q(r){return t.jsxs("span",{className:"px-3 py-1 bg-slate-900/50 text-slate-300 text-xs font-medium rounded-full border border-slate-800",children:["#",r.name]},r.id)}function W(r){return t.jsx("span",{className:"px-3 py-1 bg-green-950/50 text-green-300 text-xs font-medium rounded-full border border-green-900/40",children:r.name},r.id)}function Z(r,e){const l=`h-${e}`;return r.id=l,{id:l,text:r.textContent?.trim()||"",level:r.tagName==="H2"?2:3}}export{oe as default};
