import{c as Y,r as I,j as t,L as J,H as G}from"./app-CMhkr0ly.js";/* empty css            */function le(r){const e=Y.c(64),{article:l,similar:L,urls:a}=r;let $;e[0]===Symbol.for("react.memo_cache_sentinel")?($=[],e[0]=$):$=e[0];const[n,U]=I.useState($),[i,V]=I.useState(""),F=I.useRef(null);let D,R;e[1]!==l.content?(D=()=>{if(!l.content)return;const o=new DOMParser().parseFromString(l.content,"text/html"),B=o.querySelectorAll("h2, h3"),C=Array.from(B).map(Z);U(C),F.current&&(F.current.innerHTML=o.body.innerHTML)},R=[l.content],e[1]=l.content,e[2]=D,e[3]=R):(D=e[2],R=e[3]),I.useEffect(D,R);let H,M;e[4]!==n?(H=()=>{const s=()=>{const o=window.scrollY+150;let B="";n.forEach(C=>{const z=document.getElementById(C.id);z&&z.offsetTop<=o&&(B=C.id)}),V(B)};return window.addEventListener("scroll",s,{passive:!0}),()=>window.removeEventListener("scroll",s)},M=[n],e[4]=n,e[5]=H,e[6]=M):(H=e[5],M=e[6]),I.useEffect(H,M);let c;e[7]!==l.title?(c=t.jsx("title",{children:l.title}),e[7]=l.title,e[8]=c):c=e[8];const O=l.excerpt||"Découvrez cet article sur NJIMOLUXE";let d;e[9]!==O?(d=t.jsx("meta",{name:"description",content:O}),e[9]=O,e[10]=d):d=e[10];let x;e[11]!==l.tags?(x=l.tags?.map(W).join(", "),e[11]=l.tags,e[12]=x):x=e[12];let m;e[13]!==x?(m=t.jsx("meta",{name:"keywords",content:x}),e[13]=x,e[14]=m):m=e[14];let h;e[15]!==m||e[16]!==c||e[17]!==d?(h=t.jsxs(G,{children:[c,d,m]}),e[15]=m,e[16]=c,e[17]=d,e[18]=h):h=e[18];let p;e[19]!==i||e[20]!==n?(p=n.length>0&&t.jsxs("aside",{className:"hidden lg:block lg:w-64 xl:w-72 flex-shrink-0 border-r border-green-900/30 bg-black/80 sticky top-24 h-[calc(100vh-6rem)] overflow-y-auto py-8 px-6",children:[t.jsx("h3",{className:"text-lg font-bold text-green-400 mb-6 uppercase tracking-wider",children:"Sommaire"}),t.jsx("nav",{className:"space-y-2 text-sm",children:n.map(s=>t.jsx("a",{href:`#${s.id}`,onClick:o=>{o.preventDefault(),document.getElementById(s.id)?.scrollIntoView({behavior:"smooth",block:"start"})},className:`block py-1.5 transition-colors ${i===s.id?"text-green-400 font-medium pl-4 border-l-2 border-green-500":"text-slate-400 hover:text-green-300 pl-4"} ${s.level===3?"pl-8":""}`,children:s.text},s.id))})]}),e[19]=i,e[20]=n,e[21]=p):p=e[21];let f;e[22]!==a.blog_index?(f=t.jsx(J,{prefetch:!0,href:a.blog_index,className:"inline-flex items-center text-green-400 hover:text-green-300 mb-8 text-2xl font-medium",children:"← Retour au blog"}),e[22]=a.blog_index,e[23]=f):f=e[23];let g;e[24]!==l.title?(g=t.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold leading-tight mb-6",children:l.title}),e[24]=l.title,e[25]=g):g=e[25];const P=l.user?.name||"Équipe NJIMOLUXE";let u;e[26]!==P?(u=t.jsxs("span",{children:["Par ",P]}),e[26]=P,e[27]=u):u=e[27];let T;e[28]===Symbol.for("react.memo_cache_sentinel")?(T=t.jsx("span",{children:"•"}),e[28]=T):T=e[28];const X=l.published_at;let b;e[29]!==l.published_at?(b=new Date(l.published_at).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit"}),e[29]=l.published_at,e[30]=b):b=e[30];let j;e[31]!==l.published_at||e[32]!==b?(j=t.jsx("time",{dateTime:X,children:b}),e[31]=l.published_at,e[32]=b,e[33]=j):j=e[33];let v;e[34]!==u||e[35]!==j?(v=t.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-green-300/80 text-sm mb-10",children:[u,T,j]}),e[34]=u,e[35]=j,e[36]=v):v=e[36];let w;e[37]!==l.categories?(w=l.categories?.map(Q),e[37]=l.categories,e[38]=w):w=e[38];let N;e[39]!==l.tags?(N=l.tags?.map(K),e[39]=l.tags,e[40]=N):N=e[40];let y;e[41]!==w||e[42]!==N?(y=t.jsxs("div",{className:"flex flex-wrap gap-2 mb-12",children:[w,N]}),e[41]=w,e[42]=N,e[43]=y):y=e[43];let k;e[44]!==i||e[45]!==n?(k=n.length>0&&t.jsxs("details",{className:"lg:hidden mb-16 bg-slate-950 rounded-[6px] border border-slate-800 shadow-xl group overflow-hidden",children:[t.jsxs("summary",{className:"flex items-center justify-between px-7 py-6 text-green-400 font-semibold text-base tracking-wide cursor-pointer select-none border-b border-slate-800",children:[t.jsx("span",{className:"uppercase tracking-wider",children:"Sommaire de l’article"}),t.jsx("span",{className:"text-xl transition-transform duration-300 group-open:rotate-180",children:"▾"})]}),t.jsx("div",{className:"px-7 py-6 space-y-5",children:n.map(s=>t.jsx("a",{href:`#${s.id}`,onClick:o=>{o.preventDefault(),document.getElementById(s.id)?.scrollIntoView({behavior:"smooth",block:"start"})},className:`block leading-relaxed transition-all duration-200 ${i===s.id?"text-green-400 font-medium border-l-2 border-green-500 pl-4":"text-slate-400 hover:text-green-300"} ${s.level===3?"ml-6 text-sm":"text-base"}`,children:s.text},s.id))})]}),e[44]=i,e[45]=n,e[46]=k):k=e[46];let q;e[47]===Symbol.for("react.memo_cache_sentinel")?(q=t.jsx("div",{ref:F,className:"rich-content prose prose-invert prose-headings:text-white prose-a:text-green-400 prose-a:no-underline hover:prose-a:underline prose-blockquote:border-green-600 prose-blockquote:text-slate-300 max-w-none"}),e[47]=q):q=e[47];let _;e[48]!==L||e[49]!==a.blog_show?(_=L?.length>0&&t.jsxs("div",{className:"mt-20 pt-12 border-t border-green-900/30",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-8 text-white",children:"Articles similaires"}),t.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:L.map(s=>t.jsxs(J,{href:`${a.blog_show}${s.slug}`,className:"group bg-slate-950 rounded-xl overflow-hidden border border-slate-800 hover:border-green-700/50 transition-all duration-300 hover:shadow-xl hover:shadow-green-900/10",children:[s.image_url&&t.jsx("img",{src:s.image_url,alt:s.title,className:"w-full aspect-video object-cover",loading:"lazy"}),t.jsxs("div",{className:"p-5",children:[t.jsx("h3",{className:"text-lg font-semibold text-white group-hover:text-green-400 transition-colors line-clamp-2",children:s.title}),t.jsx("p",{className:"mt-3 text-sm text-slate-400 line-clamp-2",children:s.excerpt||"Lire la suite..."})]})]},s.id))})]}),e[48]=L,e[49]=a.blog_show,e[50]=_):_=e[50];let E;e[51]!==f||e[52]!==g||e[53]!==v||e[54]!==y||e[55]!==k||e[56]!==_?(E=t.jsx("main",{className:"flex-1",children:t.jsxs("div",{className:"max-w-4xl mx-auto lg:py-16",children:[f,g,v,y,k,q,_]})}),e[51]=f,e[52]=g,e[53]=v,e[54]=y,e[55]=k,e[56]=_,e[57]=E):E=e[57];let S;e[58]!==p||e[59]!==E?(S=t.jsx("div",{className:"",children:t.jsx("div",{className:"bg-black text-white sm:mt-34 lg:pt-42 min-h-screen",children:t.jsxs("div",{className:"flex flex-col lg:flex-row max-w-7xl mx-auto px-5 sm:px-8 lg:px-12",children:[p,E]})})}),e[58]=p,e[59]=E,e[60]=S):S=e[60];let A;return e[61]!==h||e[62]!==S?(A=t.jsxs(t.Fragment,{children:[h,S]}),e[61]=h,e[62]=S,e[63]=A):A=e[63],A}function K(r){return t.jsxs("span",{className:"px-3 py-1 bg-slate-900/60 text-slate-300 text-xs font-medium rounded-full border border-slate-800",children:["#",r.name]},r.id)}function Q(r){return t.jsx("span",{className:"px-3 py-1 bg-green-950/60 text-green-300 text-xs font-medium rounded-full border border-green-900/40",children:r.name},r.id)}function W(r){return r.name}function Z(r,e){const l=`heading-${e}`;return r.id=l,{id:l,text:r.textContent?.trim()||"",level:r.tagName==="H2"?2:3}}export{le as default};
