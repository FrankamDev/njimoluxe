import{r as s,j as e,a as W,L as x}from"./app-CrY1hrRs.js";import{M as X,i as $,u as H,P as K,a as q,b as G,L as J,m as S}from"./proxy-DF1wZ0qP.js";import{c as P}from"./createLucideIcon-DOaL0wQf.js";import{S as D,L as O,X as V}from"./x-oGltqoaC.js";function I(t,i){if(typeof t=="function")return t(i);t!=null&&(t.current=i)}function Q(...t){return i=>{let n=!1;const r=t.map(l=>{const d=I(l,i);return!n&&typeof d=="function"&&(n=!0),d});if(n)return()=>{for(let l=0;l<r.length;l++){const d=r[l];typeof d=="function"?d():I(t[l],null)}}}}function Z(...t){return s.useCallback(Q(...t),t)}class ee extends s.Component{getSnapshotBeforeUpdate(i){const n=this.props.childRef.current;if(n&&i.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const r=n.offsetParent,l=$(r)&&r.offsetWidth||0,d=$(r)&&r.offsetHeight||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=l-o.width-o.left,o.bottom=d-o.height-o.top}return null}componentDidUpdate(){}render(){return this.props.children}}function te({children:t,isPresent:i,anchorX:n,anchorY:r,root:l,pop:d}){const o=s.useId(),p=s.useRef(null),y=s.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:a}=s.useContext(X),c=t.props?.ref??t?.ref,C=Z(p,c);return s.useInsertionEffect(()=>{const{width:h,height:m,top:g,left:v,right:j,bottom:k}=y.current;if(i||d===!1||!p.current||!h||!m)return;const E=n==="left"?`left: ${v}`:`right: ${j}`,L=r==="bottom"?`bottom: ${k}`:`top: ${g}`;p.current.dataset.motionPopId=o;const f=document.createElement("style");a&&(f.nonce=a);const w=l??document.head;return w.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${m}px !important;
            ${E}px !important;
            ${L}px !important;
          }
        `),()=>{w.contains(f)&&w.removeChild(f)}},[i]),e.jsx(ee,{isPresent:i,childRef:p,sizeRef:y,pop:d,children:d===!1?t:s.cloneElement(t,{ref:C})})}const ne=({children:t,initial:i,isPresent:n,onExitComplete:r,custom:l,presenceAffectsLayout:d,mode:o,anchorX:p,anchorY:y,root:a})=>{const c=H(se),C=s.useId();let h=!0,m=s.useMemo(()=>(h=!1,{id:C,initial:i,isPresent:n,custom:l,onExitComplete:g=>{c.set(g,!0);for(const v of c.values())if(!v)return;r&&r()},register:g=>(c.set(g,!1),()=>c.delete(g))}),[n,c,r]);return d&&h&&(m={...m}),s.useMemo(()=>{c.forEach((g,v)=>c.set(v,!1))},[n]),s.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),t=e.jsx(te,{pop:o==="popLayout",isPresent:n,anchorX:p,anchorY:y,root:a,children:t}),e.jsx(K.Provider,{value:m,children:t})};function se(){return new Map}const R=t=>t.key||"";function T(t){const i=[];return s.Children.forEach(t,n=>{s.isValidElement(n)&&i.push(n)}),i}const U=({children:t,custom:i,initial:n=!0,onExitComplete:r,presenceAffectsLayout:l=!0,mode:d="sync",propagate:o=!1,anchorX:p="left",anchorY:y="top",root:a})=>{const[c,C]=q(o),h=s.useMemo(()=>T(t),[t]),m=o&&!c?[]:h.map(R),g=s.useRef(!0),v=s.useRef(h),j=H(()=>new Map),k=s.useRef(new Set),[E,L]=s.useState(h),[f,w]=s.useState(h);G(()=>{g.current=!1,v.current=h;for(let b=0;b<f.length;b++){const u=R(f[b]);m.includes(u)?(j.delete(u),k.current.delete(u)):j.get(u)!==!0&&j.set(u,!1)}},[f,m.length,m.join("-")]);const M=[];if(h!==E){let b=[...h];for(let u=0;u<f.length;u++){const N=f[u],z=R(N);m.includes(z)||(b.splice(u,0,N),M.push(N))}return d==="wait"&&M.length&&(b=M),w(T(b)),L(h),null}const{forceRender:Y}=s.useContext(J);return e.jsx(e.Fragment,{children:f.map(b=>{const u=R(b),N=o&&!c?!1:h===f||m.includes(u),z=()=>{if(k.current.has(u))return;if(k.current.add(u),j.has(u))j.set(u,!0);else return;let _=!0;j.forEach(F=>{F||(_=!1)}),_&&(Y?.(),w(v.current),o&&C?.(),r&&r())};return e.jsx(ne,{isPresent:N,initial:!g.current||n?void 0:!1,custom:i,presenceAffectsLayout:l,mode:d,root:a,onExitComplete:N?void 0:z,anchorX:p,anchorY:y,children:b},u)})})};const re=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],oe=P("ChevronDown",re);const ie=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],A=P("LayoutDashboard",ie);const ae=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],le=P("Menu",ae),B=[{label:"Accueil",href:"/"},{label:"Réalisations",href:"/realisations"},{label:"À propos",href:"/about"},{label:"Blog",href:"/blog"},{label:"Contact",href:"/contact"}];function ce(){const{auth:t}=W().props,[i,n]=s.useState(!1),[r,l]=s.useState(!1),[d,o]=s.useState(!1),p=s.useRef(null);let y=0;return s.useEffect(()=>{const a=()=>{const c=window.scrollY;c>y&&c>100?o(!0):o(!1),y=c};return window.addEventListener("scroll",a,{passive:!0}),()=>window.removeEventListener("scroll",a)},[]),s.useEffect(()=>{const a=c=>{p.current&&!p.current.contains(c.target)&&l(!1)};return r&&document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}},[r]),e.jsxs(S.header,{initial:{y:-100},animate:{y:d?-140:0},transition:{duration:.5,ease:"easeOut"},className:"fixed top-0 left-0 right-0 z-50 bg-gradient-to-b from-black/90 via-black/85 to-black/80 backdrop-blur-xl border-b border-green-900/30 shadow-[0_4px_30px_rgba(0,0,0,0.5)]",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-5 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-20",children:[e.jsxs(x,{href:"/",className:"flex items-center gap-3.5 group",children:[e.jsx("div",{className:" h-8 rounded overflow-hidden shadow-lg shadow-green-900/40 transition-transform group-hover:scale-105 duration-300",children:e.jsx("img",{src:"/njimoluxe.png",alt:"NjimoLuxe",className:"w-full h-full object-cover"})}),e.jsx("span",{className:"text-3xl font-serif font-extrabold tracking-tight text-green-400 group-hover:text-green-300 transition-colors duration-300",children:"NJIMOLUXE"})]}),e.jsx("nav",{className:"hidden lg:flex items-center gap-10",children:B.map(a=>e.jsx(x,{href:a.href,className:"relative text-gray-200 hover:text-green-400 font-medium text-lg transition-colors duration-300 after:content-[''] after:absolute after:bottom-[-6px] after:left-0 after:h-0.5 after:w-0 after:bg-green-500 hover:after:w-full after:transition-all after:duration-300",children:a.label},a.href))}),e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("div",{className:"hidden lg:flex items-center gap-6",children:t?.user?e.jsxs("div",{className:"relative",ref:p,children:[e.jsxs("button",{type:"button",onClick:()=>l(!r),className:"flex items-center gap-3 px-3 py-2 rounded-xl hover:bg-green-950/40 transition-all duration-200",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-green-600 to-green-800 flex items-center justify-center text-white font-bold shadow-md",children:t?.user.name.charAt(0).toUpperCase()}),e.jsx("span",{className:"font-medium text-gray-100",children:t?.user.name}),e.jsx(oe,{size:18,className:`transition-transform duration-200 ${r?"rotate-180":""}`})]}),e.jsx(U,{children:r&&e.jsxs(S.div,{initial:{opacity:0,y:12,scale:.96},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:8,scale:.96},transition:{duration:.15},className:"absolute right-0 mt-3 w-64 bg-neutral-900/95 backdrop-blur-lg border border-green-900/30 rounded-2xl shadow-2xl overflow-hidden",children:[e.jsxs("div",{className:"py-2",children:[e.jsxs(x,{href:"/dashboard",className:"flex items-center gap-3 px-5 py-3.5 text-gray-200 hover:bg-green-950/50 hover:text-green-400 transition-colors",onClick:()=>l(!1),children:[e.jsx(A,{size:18}),"Tableau de bord"]}),e.jsxs(x,{href:"/settings",className:"flex items-center gap-3 px-5 py-3.5 text-gray-200 hover:bg-green-950/50 hover:text-green-400 transition-colors",onClick:()=>l(!1),children:[e.jsx(D,{size:18}),"Paramètres"]})]}),e.jsx("div",{className:"border-t border-green-900/30 py-1",children:e.jsxs(x,{href:"/logout",method:"post",as:"button",className:"w-full flex items-center gap-3 px-5 py-3.5 text-red-400 hover:bg-red-950/40 transition-colors",children:[e.jsx(O,{size:18}),"Déconnexion"]})})]})})]}):e.jsxs(e.Fragment,{children:[e.jsx(x,{href:"/login",className:"text-gray-200 hover:text-green-400 font-medium text-lg transition-colors duration-200",children:"Connexion"}),e.jsx(x,{href:"/contact",className:"px-7 py-3.5 bg-green-700 hover:bg-green-600 text-white font-semibold rounded-xl transition-all duration-300 shadow-lg hover:shadow-green-900/40 hover:-translate-y-0.5",children:"Devis gratuit"})]})}),e.jsx("button",{type:"button",className:"lg:hidden text-white p-2 -mr-2 rounded-xl hover:bg-green-950/40 transition-colors",onClick:()=>n(!i),"aria-label":i?"Fermer le menu":"Ouvrir le menu",children:i?e.jsx(V,{size:28}):e.jsx(le,{size:28})})]})]})}),e.jsx(U,{children:i&&e.jsx(S.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.35,ease:"easeOut"},className:"lg:hidden bg-black/95 backdrop-blur-xl border-t border-green-900/30 overflow-hidden",children:e.jsxs("div",{className:"px-6 py-8 space-y-7",children:[B.map(a=>e.jsx(x,{href:a.href,className:"block text-xl font-medium text-gray-200 hover:text-green-400 transition-colors duration-200",onClick:()=>n(!1),children:a.label},a.href)),e.jsx("div",{className:"pt-8 border-t border-green-900/40",children:t?.user?e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"flex items-center gap-4 px-4 py-4 bg-green-950/30 rounded-2xl",children:[e.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-green-600 to-green-800 flex items-center justify-center text-white text-2xl font-bold shadow-md",children:t?.user.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xl font-semibold text-white",children:t.user.name}),e.jsx("p",{className:"text-green-400/80 text-sm",children:"Connecté"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(x,{prefetch:!0,href:"/dashboard",className:"flex items-center gap-4 px-5 py-4 rounded-xl hover:bg-green-950/40 text-gray-200 hover:text-green-400 transition-colors text-lg font-medium",onClick:()=>n(!1),children:[e.jsx(A,{size:22}),"Tableau de bord"]}),e.jsxs(x,{prefetch:!0,href:"/settings",className:"flex items-center gap-4 px-5 py-4 rounded-xl hover:bg-green-950/40 text-gray-200 hover:text-green-400 transition-colors text-lg font-medium",onClick:()=>n(!1),children:[e.jsx(D,{size:22}),"Paramètres"]}),e.jsxs(x,{href:"/logout",method:"post",as:"button",className:"flex items-center gap-4 px-5 py-4 rounded-xl bg-red-950/40 hover:bg-red-950/60 text-red-300 transition-colors text-lg font-medium w-full",onClick:()=>n(!1),children:[e.jsx(O,{size:22}),"Déconnexion"]})]})]}):e.jsxs("div",{className:"grid gap-4",children:[e.jsx(x,{href:"/login",className:"block text-center py-4 bg-neutral-800 hover:bg-neutral-700 text-white rounded-xl font-semibold transition-colors text-lg",onClick:()=>n(!1),children:"Se connecter"}),e.jsx(x,{href:"/contact",className:"block text-center py-4 bg-green-700 hover:bg-green-600 text-white font-semibold rounded-xl transition-all shadow-md text-lg",onClick:()=>n(!1),children:"Demander un devis gratuit"})]})})]})})})]})}const xe=Object.freeze(Object.defineProperty({__proto__:null,default:ce},Symbol.toStringTag,{value:"Module"}));export{U as A,ce as N,xe as a};
