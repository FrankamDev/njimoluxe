import{c as V,r as k,j as t,H as z,L as F}from"./app-B-uXmk7T.js";import{N as J}from"./NavBar-C2Zj6rZl.js";/* empty css            */import"./proxy-C31kbWKw.js";import"./createLucideIcon-CiD2CqfA.js";import"./x-D29gT_9u.js";function te(n){const e=V.c(56),{article:l,similar:S,urls:i}=n;let E;e[0]===Symbol.for("react.memo_cache_sentinel")?(E=[],e[0]=E):E=e[0];const[r,P]=k.useState(E),[a,O]=k.useState(""),q=k.useRef(null);let I,L;e[1]!==l.content?(I=()=>{const o=new DOMParser().parseFromString(l.content,"text/html"),M=o.querySelectorAll("h2, h3"),T=Array.from(M).map(Y);P(T),q.current&&(q.current.innerHTML=o.body.innerHTML)},L=[l.content],e[1]=l.content,e[2]=I,e[3]=L):(I=e[2],L=e[3]),k.useEffect(I,L);let $,H;e[4]!==r?($=()=>{const s=()=>{const o=window.scrollY+100;let M="";r.forEach(T=>{const C=document.getElementById(T.id);C&&C.offsetTop<=o&&(M=T.id)}),O(M)};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},H=[r],e[4]=r,e[5]=$,e[6]=H):($=e[5],H=e[6]),k.useEffect($,H);let c;e[7]!==l.title?(c=t.jsx(z,{title:l.title}),e[7]=l.title,e[8]=c):c=e[8];let R;e[9]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsx(J,{}),e[9]=R):R=e[9];let d;e[10]!==a||e[11]!==r?(d=r.length>0&&t.jsxs("aside",{className:"hidden lg:block lg:w-64 xl:w-72 flex-shrink-0 border-r border-green-900/30 bg-black/80 sticky top-0 h-screen overflow-y-auto py-12 px-6",children:[t.jsx("h3",{className:"text-lg font-bold text-green-400 mb-6 uppercase tracking-wider",children:"Sommaire"}),t.jsx("nav",{className:"space-y-2 text-sm",children:r.map(s=>t.jsx("a",{href:`#${s.id}`,onClick:o=>{o.preventDefault(),document.getElementById(s.id)?.scrollIntoView({behavior:"smooth"})},className:`block py-1.5 transition-colors ${a===s.id?"text-green-400 font-medium pl-4 border-l-2 border-green-500":"text-slate-400 hover:text-green-300 pl-4"} ${s.level===3?"pl-8":""}`,children:s.text},s.id))})]}),e[10]=a,e[11]=r,e[12]=d):d=e[12];let x;e[13]!==i.blog_index?(x=t.jsx(F,{prefetch:!0,href:i.blog_index,className:"inline-flex items-center text-green-400 hover:text-green-300 mb-8 text-sm font-medium",children:"← Retour au blog"}),e[13]=i.blog_index,e[14]=x):x=e[14];let m;e[15]!==l.title?(m=t.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold leading-tight mb-6",children:l.title}),e[15]=l.title,e[16]=m):m=e[16];const A=l.user?.name||"Équipe NJIMOLUXE";let p;e[17]!==A?(p=t.jsxs("span",{children:["Par ",A]}),e[17]=A,e[18]=p):p=e[18];let B;e[19]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsx("span",{children:"•"}),e[19]=B):B=e[19];let h;e[20]!==l.published_at?(h=new Date(l.published_at).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}),e[20]=l.published_at,e[21]=h):h=e[21];let f;e[22]!==h?(f=t.jsx("time",{children:h}),e[22]=h,e[23]=f):f=e[23];let g;e[24]!==p||e[25]!==f?(g=t.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-green-300/80 text-sm mb-10",children:[p,B,f]}),e[24]=p,e[25]=f,e[26]=g):g=e[26];let u;e[27]!==l.categories?(u=l.categories.map(X),e[27]=l.categories,e[28]=u):u=e[28];let b;e[29]!==l.tags?(b=l.tags.map(U),e[29]=l.tags,e[30]=b):b=e[30];let j;e[31]!==u||e[32]!==b?(j=t.jsxs("div",{className:"flex flex-wrap gap-2 mb-12",children:[u,b]}),e[31]=u,e[32]=b,e[33]=j):j=e[33];let v;e[34]!==a||e[35]!==r?(v=r.length>0&&t.jsxs("details",{className:"lg:hidden mb-10 bg-slate-900/50 rounded-xl border border-green-900/30",children:[t.jsxs("summary",{className:"flex items-center justify-between px-5 py-4 text-green-400 font-medium cursor-pointer",children:["Sommaire de l'article",t.jsx("span",{className:"text-xl transition-transform duration-300 group-open:rotate-180",children:"▼"})]}),t.jsx("div",{className:"px-5 pb-5 pt-2 text-sm space-y-2",children:r.map(s=>t.jsx("a",{href:`#${s.id}`,onClick:o=>{o.preventDefault(),document.getElementById(s.id)?.scrollIntoView({behavior:"smooth"})},className:`block py-1.5 ${a===s.id?"text-green-400 pl-4":"text-slate-400 hover:text-green-300 pl-4"} ${s.level===3?"pl-8":""}`,children:s.text},s.id))})]}),e[34]=a,e[35]=r,e[36]=v):v=e[36];let w;e[37]!==l.content?(w=t.jsx("div",{ref:q,className:"rich-content prose prose-invert prose-headings:text-white prose-a:text-green-400 prose-a:no-underline hover:prose-a:underline prose-blockquote:border-green-600 prose-blockquote:text-slate-300 max-w-none",dangerouslySetInnerHTML:{__html:l.content}}),e[37]=l.content,e[38]=w):w=e[38];let N;e[39]!==S||e[40]!==i.blog_show?(N=S?.length>0&&t.jsxs("div",{className:"mt-20 pt-12 border-t border-green-900/30",children:[t.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-8 text-white",children:"Articles similaires"}),t.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:S.map(s=>t.jsxs(F,{href:`${i.blog_show}${s.slug}`,className:"group bg-slate-950 rounded-xl overflow-hidden border border-slate-800 hover:border-green-700/50 transition-all duration-300 hover:shadow-xl hover:shadow-green-900/10",children:[s.image_url&&t.jsx("img",{src:s.image_url,alt:s.title,className:"w-full aspect-video object-cover",loading:"lazy"}),t.jsxs("div",{className:"p-5",children:[t.jsx("h3",{className:"text-lg font-semibold text-white group-hover:text-green-400 transition-colors line-clamp-2",children:s.title}),t.jsx("p",{className:"mt-3 text-sm text-slate-400 line-clamp-2",children:s.excerpt||"Lire la suite..."})]})]},s.id))})]}),e[39]=S,e[40]=i.blog_show,e[41]=N):N=e[41];let y;e[42]!==m||e[43]!==g||e[44]!==j||e[45]!==v||e[46]!==w||e[47]!==N||e[48]!==x?(y=t.jsx("main",{className:"flex-1",children:t.jsxs("div",{className:"max-w-4xl mx-auto px-5 sm:px-8 lg:px-12 py-12 lg:py-16",children:[x,m,g,j,v,w,N]})}),e[42]=m,e[43]=g,e[44]=j,e[45]=v,e[46]=w,e[47]=N,e[48]=x,e[49]=y):y=e[49];let _;e[50]!==y||e[51]!==d?(_=t.jsx("div",{className:"bg-black min-h-screen text-white",children:t.jsxs("div",{className:"flex flex-col lg:flex-row",children:[R,d,y]})}),e[50]=y,e[51]=d,e[52]=_):_=e[52];let D;return e[53]!==_||e[54]!==c?(D=t.jsxs(t.Fragment,{children:[c,_]}),e[53]=_,e[54]=c,e[55]=D):D=e[55],D}function U(n){return t.jsxs("span",{className:"px-3 py-1 bg-slate-900/60 text-slate-300 text-xs font-medium rounded-full border border-slate-800",children:["#",n.name]},n.id)}function X(n){return t.jsx("span",{className:"px-3 py-1 bg-green-950/60 text-green-300 text-xs font-medium rounded-full border border-green-900/40",children:n.name},n.id)}function Y(n,e){const l=`heading-${e}`;return n.id=l,{id:l,text:n.textContent.trim(),level:n.tagName==="H2"?2:3}}export{te as default};
